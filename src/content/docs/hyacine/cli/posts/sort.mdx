---
title: 'sort - 整理文章结构'
description: '按分类、时间线或扁平结构重组文章文件。'
---

# 整理文章

`sort` 命令根据不同的模式自动整理文章文件结构，帮助您建立清晰的目录层级。

## 基本用法

```bash
hyc sort <mode>
```

## 参数说明

| 参数 | 说明 | 必需 |
|------|------|------|
| `<mode>` | 整理模式 | 是 |

## 整理模式

### category - 按分类整理

```bash
hyc sort category
```

根据文章的分类字段将文章整理到对应的目录结构中。

**目录结构示例：**

```
content/posts/
  ├── 技术/
  │   ├── Rust/
  │   │   └── learning-rust.md
  │   ├── JavaScript/
  │   │   └── async-await.md
  │   └── Database/
  │       └── postgres-optimization.md
  ├── 生活/
  │   └── travel-notes.md
  └── 随笔/
      └── thoughts.md
```

:::tip
分类使用 `categories: ["一级", "二级", "三级"]` 格式定义，每一层级对应一个目录。
:::

### timeline - 按时间线整理

```bash
hyc sort timeline
```

根据文章的创建日期按 `YYYY/MM/DD` 结构整理文章。

**目录结构示例：**

```
content/posts/
  ├── 2024/
  │   ├── 01/
  │   │   ├── 15/
  │   │   │   └── my-first-article.md
  │   │   └── 20/
  │   │       └── another-article.md
  │   └── 02/
  │       └── 01/
  │           └── latest-post.md
  └── 2025/
      └── 01/
          └── 15/
              └── new-year-post.md
```

:::tip
适合按时间序列查看文章，方便进行期刊式的文章管理。
:::

### flat - 扁平结构

```bash
hyc sort flat
```

将所有文章放在根目录（`content/posts/`），不创建任何子目录。

**目录结构示例：**

```
content/posts/
  ├── my-first-article.md
  ├── tech-sharing.md
  ├── learning-notes.md
  └── travel-stories.md
```

:::tip
适合文章数量较少的项目，或者希望保持简洁目录结构的情况。
:::

## 使用示例

### 按分类整理一个杂乱的项目

```bash
# 当前文章处于扁平或混乱结构
hyc list posts
# 显示: 15 篇文章

# 按分类整理
hyc sort category

# 整理后查看结构
hyc list posts
# 现在文章按分类目录组织
```

### 迁移到时间线视图

```bash
# 从分类结构切换到时间线
hyc sort timeline

# 将按日期组织的旧博客迁移到此结构
```

### 简化为扁平结构

```bash
# 收拾现有的充分分类结构
hyc sort flat
```

## 错误与冲突处理

### 目标文件已存在

如果整理时发现目标位置已有同名文件，系统会提示：

```
⚠️  整理完成（包含错误）
❌ 错误列表:
   - "article.md" 已存在于目标位置: content/posts/tech/
   
💡 建议: 手动处理冲突或更新文章 slug 确保唯一性
```

### 移动失败

某些文章可能由于权限等原因移动失败：

```
⚠️  文件移动失败: "old-article.md"
   原因: 文件被占用或权限不足
```

## 注意事项

:::warning
- 整理操作会**实际移动文件**，不是虚拟操作
- 请在执行前备份重要内容（推荐 `hyc backup`）
- 整理后旧的空目录会被自动清理
:::

:::tip
整理过程中**不会改变文章内容或元数据**，仅改变文件系统位置。文件路径会自动更新到数据库。
:::

## 反向操作

所有模式都可以互相转换，选择一种新模式覆盖旧结构即可。

## 下一步

- 使用 [`move`](./move) 手动移动特定文章
- 使用 [`backup`](./backup) 保护文章结构变更前的数据
- 使用 [`list`](./list) 验证整理后的结构

